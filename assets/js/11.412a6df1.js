(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{359:function(t,s,e){"use strict";e.r(s);var a=e(42),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"部署vuepress项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署vuepress项目"}},[t._v("#")]),t._v(" 部署vuepress项目")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("在 "),e("code",[t._v("docs/.vuepress/config.js")]),t._v(" 中设置正确的 base。")]),t._v(" "),e("p",[t._v("如果你打算发布到 "),e("code",[t._v("https://<USERNAME>.github.io/")]),t._v('，则可以省略这一步，因为 base 默认即是 "/"。')]),t._v(" "),e("p",[t._v("如果你打算发布到 "),e("code",[t._v("https://<USERNAME>.github.io/<REPO>/")]),t._v("（也就是说你的仓库在 "),e("code",[t._v("https://github.com/<USERNAME>/<REPO")]),t._v(">），则将 "),e("code",[t._v("base")]),t._v(" 设置为 "),e("code",[t._v('"/<REPO>/"')])])]),t._v(" "),e("h2",{attrs:{id:"github"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[t._v("#")]),t._v(" github")]),t._v(" "),e("p",[t._v("可参考阮一峰的《"),e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("github pages入门"),e("OutboundLink")],1),t._v("》")]),t._v(" "),e("ul",[e("li",[t._v("根目录创建 "),e("code",[t._v("deploy.sh")]),t._v("文件")])]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/env sh")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 确保脚本抛出遇到的错误")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成静态文件")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run docs:build\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入生成的文件夹")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是发布到自定义域名")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 'www.example.com' > CNAME")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f git@github.com:Alivia-Lee/my-vuepress.git master:gh-pages\n    \n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" -\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br")])]),e("p",[t._v("我的项目发布在"),e("code",[t._v("git@github.com:Alivia-Lee/my-vuepress.git")]),t._v("的"),e("code",[t._v("master")]),t._v("分支下")]),t._v(" "),e("p",[t._v("部署的结果是将"),e("code",[t._v("/docs/.vuepress/dist")]),t._v("文件提交到对应的github地址，并生成pages")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("配置文件生成的git提交代码是通过"),e("code",[t._v("sshkey")]),t._v("的匹配来提交的，此处要注意仓库地址sshkey的匹配")])]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/zh/guide/ssh-key.html"}},[t._v("如何配置ssh key")])],1),t._v(" "),e("h2",{attrs:{id:"gitlab"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gitlab"}},[t._v("#")]),t._v(" gitlab")]),t._v(" "),e("ul",[e("li",[t._v("根目录创建"),e("code",[t._v("gitlab-ci.yml")])])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("image: node:12.17.0\npages:\n  script:\n    - yarn install # npm install\n    - yarn docs:build # npm run docs:build\n  cache:\n    paths:\n      - node_modules/\n  artifacts:\n    paths:\n      - public\n  only:\n    - master\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br")])]),e("ul",[e("li",[t._v("在"),e("code",[t._v("config.js")]),t._v("中添加"),e("code",[t._v("dest：'public'")])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("配置github不需要更改")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("gitlab pages 类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("gitlab项目名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("网址")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("用户页")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("username.example.io")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("http(s)😕/username.example.io")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("group页")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("groupname.example.io")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("http(s)😕/groupname.example.io")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("用户独有项目页")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("projectname")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("http(s)😕/username.example.io/projectname")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("group独有项目页")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("projectname")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("http(s)😕/groupname.example.io/projectname")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("subgroup独有项目页")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("subgroup/projectname")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("http(s)😕/groupname.example.io/subgroup/projectname")])])])]),t._v(" "),e("h3",{attrs:{id:"用户页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户页"}},[t._v("#")]),t._v(" 用户页")]),t._v(" "),e("ul",[e("li",[t._v("新建名为 username.gitlab.io 的gitlab仓库")])]),t._v(" "),e("h3",{attrs:{id:"用户独有项目页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户独有项目页"}},[t._v("#")]),t._v(" 用户独有项目页")]),t._v(" "),e("ul",[e("li",[t._v("新建一个 projectname 仓库")]),t._v(" "),e("li",[t._v(".vuepress中的config.js配置 base: '/projectname/',")])])])}),[],!1,null,null,null);s.default=n.exports}}]);